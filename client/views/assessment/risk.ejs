<!DOCTYPE html>
<html lang="en">

<head>
  <title>弗明汉心脏风险评估</title>
  <% include ../layout/layout %>
  <link rel="stylesheet" href="<%=_src('/css/assessment/assessment.min.css')%>">
  <script src="<%=_src('/lib/picker/picker.min.js')%>"></script>
</head>
<body>
  <p class="risk-top">弗明汉心脏病研究（Framingham Heart Study）名十年心脏病风险评估，是根据胆固醇水平和非胆固醇因素计算个体未来十年冠心病发作几率的方法。</p>
  <div class="showPicker">1 您的性别
        <span id="showSex"></span>
  </div>
  <div class="showPicker">2 您的年龄
        <span id="showAge"></span>
  </div>
  <div class="showPicker">3 您是否吸烟
        <span id="showSmoke"></span>
  </div>
  <div class="showPicker">4 您的血压
    <span id="showTreatment"></span><span id="showPressure">高压</span>
  </div>
  <div class="showPicker">5 您总胆固醇水平
        <span id="showCholesterol"></span>
  </div>
  <div class="showPicker">6 您的高密度脂蛋白胆固醇水平(HDL)
        <span style="width:20%" id="showGoodCholesterol"></span>
  </div>
  <input id="title" type="text" name="title" class="display">
  <div class="account-btn">
      <button type="button" id="risk-btn" class="weui-btn weui-btn_primary">提交</button>
  </div>
 <div id="dialogs">
   <div class="js_dialog" id="iosDialog2" style="display: none;">
      <div class="weui-mask"></div>
      <div class="weui-dialog">
      <div class="weui-dialog__hd"><strong class="weui-dialog__title">一级亲属和冠心病史</strong></div>
        <div class="weui-dialog__bd">
          <div><a>一级亲属：</a><a>是一个人的父母，子女以及兄弟姐妹（同父母）</a></div>
          <div><a style="display:block;float:left;">冠心病史：</a><p><a style="display:block;"><55岁男性发生冠心病史</a><a><65岁女性发生冠心病史</a></p></div>
        </div>
        <div class="weui-dialog__ft">
          <a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary">关闭</a>
        </div>
     </div>
   </div>
 </div>
   
<script type="text/javascript">
    $(function(){
        var $iosDialog2 = $('#iosDialog2')

        $('#dialogs').on('click', '.weui-dialog__btn', function(){
            $(this).parents('.js_dialog').fadeOut(200);
        });
        $('#showIOSDialog2').on('click', function(){
            $iosDialog2.fadeIn(200);
        });
    });

  var showSex = document.getElementById('showSex');
  var showAge = document.getElementById('showAge');
  var showSmoke = document.getElementById('showSmoke');
  var showPressure = document.getElementById('showPressure');
  var showTreatment = document.getElementById('showTreatment');
  var showCholesterol = document.getElementById('showCholesterol');
  var showGoodCholesterol = document.getElementById('showGoodCholesterol');

  var dataSex = [{
    text: '男',
    value: 1
  }, {
    text: '女',
    value: 2
  }]
  
  var dataAge = [{
    text: '≦19',
    value: 1
  },{
    text: '20-34',
    value: 2
  },{
    text: '35-39',
    value: 3
  },{
    text: '40-44',
    value: 4
  },{
    text: '45-49',
    value: 5
  },{
    text: '50-54',
    value: 6
  },{
    text: '55-59',
    value: 7
  },{
    text: '60-64',
    value: 8
  },{
    text: '65-69',
    value: 9
  },{
    text: '70-74',
    value: 10
  },{
    text: '75-79',
    value: 11
  },{
    text: '≧80',
    value: 12
  }]
  
  var dataIsSmoke = [{
    text: '是',
    value:1
  },{
    text: '否',
    value:2
  }]
    
  var dataPressure = [{
    text: '<120',
    value:1
  },{
    text:'120-129',
    value:2
  },{
    text:'130-139',
    value:3
  },{
    text:'140-159',
    value:4
  },{
    text:'160+',
    value:5
  }]
  
  var dataTreatment = [{
    text: '有治疗',
    value:1
  },{
    text: '无治疗',
    value:2
  }]

  var dataCholesterol = [{
    text: '<160',
    value:1
  },{
    text: '160-199',
    value:2
  },{
    text: '200-239',
    value:3
  },{
    text: '240-279',
    value:4
  },{
    text: '≧280',
    value:5
  }]

  var dataGoodCholesterol = [{
    text: '≧60',
    value:1
  },{
    text: '50-59',
    value:2
  },{
    text: '40-49',
    value:3
  },{
    text: '<40',
    value:4
  }]
  
  var pickerSex = new Picker({
    data: [dataSex],
    selectedIndex: [0],
    title: '您的选择'
  });
  
  var pickerAge = new Picker({
    data: [dataAge],
    selectedIndex: [0],
    title: '您的选择'
  });
  
  var pickerIsSmoke = new Picker({
    data: [dataIsSmoke],
    selectedIndex: [0],
    title: '您的选择'
  });
  
  var pickerPressure = new Picker({
    data: [dataPressure],
    selectedIndex: [0],
    title: '您的选择'
  });
  
    var pickerTreatment = new Picker({
    data: [dataTreatment],
    selectedIndex: [0],
    title: '您的选择'
  });

  var pickerCholesterol = new Picker({
    data: [dataCholesterol],
    selectedIndex: [0],
    title: '您的选择'
  });
  
  var pickerGoodCholesterol = new Picker({
    data: [dataGoodCholesterol],
    selectedIndex: [0],
    title: '您的选择'
  });
  
  pickerSex.on('picker.select', function(selectedVal, selectedIndex) {
    showSex.innerText = dataSex[selectedIndex[0]].text;
    if (dataSex[selectedIndex].value == 2) {
      $('#title').removeClass('display');
    } else {
      $('#title').addClass('display');
    }
  });
  
  pickerAge.on('picker.select', function(selectedVal, selectedIndex) {
    showAge.innerText = dataAge[selectedIndex[0]].text;
    if (dataAge[selectedIndex].value == 12) {
      $('#title').removeClass('display');
    } else {
      $('#title').addClass('display');
    }
  });

    pickerIsSmoke.on('picker.select', function(selectedVal, selectedIndex) {
      showSmoke.innerText = dataIsSmoke[selectedIndex[0]].text;
      if (dataIsSmoke[selectedIndex].value == 2) {
        $('#title').removeClass('display');
      } else {
        $('#title').addClass('display');
      }
   });
   
   pickerPressure.on('picker.select', function(selectedVal, selectedIndex) {
      showPressure.innerText = dataPressure[selectedIndex[0]].text;
      if (dataPressure[selectedIndex].value == 5) {
        $('#title').removeClass('display');
      } else {
        $('#title').addClass('display');
      }
   });
   
     pickerTreatment.on('picker.select', function(selectedVal, selectedIndex) {
      showTreatment.innerText = dataTreatment[selectedIndex[0]].text;
      if (dataTreatment[selectedIndex].value == 2) {
        $('#title').removeClass('display');
      } else {
        $('#title').addClass('display');
      }
   });
   
   pickerCholesterol.on('picker.select', function(selectedVal, selectedIndex) {
      showCholesterol.innerText = dataCholesterol[selectedIndex[0]].text;
      if (dataCholesterol[selectedIndex].value == 5) {
        $('#title').removeClass('display');
      } else {
        $('#title').addClass('display');
      }
   });
   
    pickerGoodCholesterol.on('picker.select', function(selectedVal, selectedIndex) {
      showGoodCholesterol.innerText = dataGoodCholesterol[selectedIndex[0]].text;
      if (dataGoodCholesterol[selectedIndex].value == 4) {
        $('#title').removeClass('display');
      } else {
        $('#title').addClass('display');
      }
   });
  
  showSex.addEventListener('click', function() {
    pickerSex.show();
  });
  
  showAge.addEventListener('click', function() {
    pickerAge.show();
  });
  
  showSmoke.addEventListener('click', function() {
    pickerIsSmoke.show();
  });
  
  showPressure.addEventListener('click', function() {
    pickerPressure.show();
  });
  
  showTreatment.addEventListener('click', function() {
    pickerTreatment.show();
  });
  
  showCholesterol.addEventListener('click', function() {
    pickerCholesterol.show();
  });
  
  showGoodCholesterol.addEventListener('click', function() {
    pickerGoodCholesterol.show();
  });
  
  if(showSex.innerText =="" || showAge.innerText =="" || showSmoke.innerText =="" || showPressure.innerText=="" || 
  showTreatment.innerText =="" || showCholesterol.innerText == "" || showGoodCholesterol.innerText == ""){
    
  }
  </script>
</body>

</html>

function name(){$(".name").bind("keyup blur",function(){var e=$(this).val();""===e?($(this).next("p").html("请填写姓名"),$(this).siblings("label").children().css({color:"red"}),$("button").removeClass("submit")):/^[\u4e00-\u9fa5a-zA-Z]([\s\u4e00-\u9fa5a-zA-Z])+$/.test(e)?($(this).next("p").html(""),$(this).siblings("label").children().css({color:"#000"}),button()):($(".name").next("p").html("姓名只能填写中文或英文"),$("button").removeClass("submit"))})}function age(){$(".age").bind("keyup blur",function(){var e=$(this).val();""==e?($(this).next("p").html("请填写年龄"),$(this).siblings("label").children().css({color:"red"}),$("button").removeClass("submit")):($(this).next("p").html(""),$(this).siblings("label").children().css({color:"#000"}),button()),/^([1-9]|[0-9]{2}|[1][0-9][0-9])$/.test(e)||""===e||($(".age").next("p").html("请输入正确的年龄"),$("button").removeClass("submit"))})}function button(){""===$(".full").text()&&$(".name").val()&&$(".age").val()&&$("button").addClass("submit")}for(var pickerEl=$("#showPicker"),lectureEl=$("#showPickerlecture"),nameEl=document.getElementById("showPicker"),lectureEL=document.getElementById("showPickerlecture"),sex=document.getElementById("sex"),lectureInput=document.getElementById("lecture"),lecture=[],json=JSON.parse(jsondata),i=0;i<json.length;i++){var data={};data.text=json[i].name,data.value=json[i].id,lecture.push(data)}var data=[{text:"男",value:1},{text:"女",value:2}],lecturePicker=new Picker({data:[lecture],selectedIndex:[0],title:"您的选择"}),picker=new Picker({data:[data],selectedIndex:[0],title:"您的选择"});picker.on("picker.select",function(e,t){nameEl.innerText=data[t[0]].text,sex.value=data[t[0]].text}),lecturePicker.on("picker.select",function(e,t){lectureEL.innerText=lecture[t[0]].text,lectureInput.value=lecture[t[0]].value}),pickerEl.on("click",function(){picker.show(function(){picker.refillColumn(0,data)})}),lectureEl.on("click",function(){$(".space").text(""),lecturePicker.show(function(){lecturePicker.refillColumn(0,lecture)})}),name(),age(),$("#button").click(function(){if($(".name").val()&&$(".age").val()&&""===$(".full").text()){var e=$(".name").val(),t=$(".age").val(),l=$("#sex").val(),n=$("#lecture").val();$.ajax({url:window.location.pathname+"/verify",data:{name:e,age:t,sex:l,lectureId:n},type:"get",success:function(e){0==e.code?location.href="success?img="+e._data:1==e.code&&$(".space").text(e.err)}})}});var oHeight=$(document).height();$(window).resize(function(){$(document).height()<oHeight?$("#button").css("display","none"):$("#button").css("display","block")}),$("#closeerr").on("click",function(){$("#modalerr").css("display","none")});